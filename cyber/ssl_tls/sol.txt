
Exercise:

-create an https echo server, in my case tls_server.c using self signed certificates (cryptography worksheet as reference)
gd tls_server.c -o tls_server -lssl -lcrypto

-download firefox-developer edition, and in about:config add NSS_ALLOW_SSLKEYLOG as a boolean and set it to true

-start a wireshark capture

-open a terminal and set an env var indicating key log file path:
export SSLKEYLOGILE=<path/to/key/log>

-from the same terminal launch firefox-dev, a key log file should be created

-surf to your https echo server

-save the pcap and open it with wireshark

-go to Edit->Preferences->Protocols->TLS and set (Pre)-Master-Secret log filename to the exported key log file path

-watch as encrypted http data magically becomes decrypted

